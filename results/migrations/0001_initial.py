# Generated by Django 6.0.1 on 2026-02-17 11:05

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("academic", "0002_initial"),
        ("students", "0003_alter_student_emergency_contact_name_and_more"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="StudentResult",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "frequency_of_school_opened",
                    models.IntegerField(
                        default=0,
                        help_text="Total number of times school opened this term",
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "no_of_times_present",
                    models.IntegerField(
                        default=0,
                        help_text="Number of times student was present",
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "no_of_times_absent",
                    models.IntegerField(
                        default=0,
                        help_text="Number of times student was absent",
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "weight_beginning_of_term",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Weight at beginning of term (kg)",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "weight_end_of_term",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Weight at end of term (kg)",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "height_beginning_of_term",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Height at beginning of term (cm)",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "height_end_of_term",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Height at end of term (cm)",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "total_ca_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total CA scores across all subjects",
                        max_digits=7,
                    ),
                ),
                (
                    "total_exam_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total exam scores across all subjects",
                        max_digits=7,
                    ),
                ),
                (
                    "overall_total_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Grand total of all subjects",
                        max_digits=7,
                    ),
                ),
                (
                    "total_obtainable",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total marks obtainable",
                        max_digits=7,
                    ),
                ),
                (
                    "percentage",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Overall percentage (%)",
                        max_digits=5,
                    ),
                ),
                (
                    "average_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Average score",
                        max_digits=5,
                    ),
                ),
                (
                    "position_in_class",
                    models.IntegerField(
                        blank=True,
                        help_text="Student's position in class (1st, 2nd, 3rd...)",
                        null=True,
                    ),
                ),
                (
                    "number_of_pupils_in_class",
                    models.IntegerField(
                        default=0, help_text="Total number of students in class"
                    ),
                ),
                (
                    "overall_grade",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("A", "A - Excellent (80-100)"),
                            ("B", "B - Good (60-79)"),
                            ("C", "C - Average (50-59)"),
                            ("D", "D - Below Average (40-49)"),
                            ("E", "E - Poor (Below 40)"),
                        ],
                        help_text="Overall grade based on percentage",
                        max_length=2,
                    ),
                ),
                (
                    "overall_remark",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("excellent", "Excellent"),
                            ("very_good", "Very Good"),
                            ("good", "Good"),
                            ("average", "Average"),
                            ("below_average", "Below Average"),
                            ("poor", "Poor"),
                        ],
                        help_text="Overall remark on performance",
                        max_length=20,
                    ),
                ),
                (
                    "class_teacher_comment",
                    models.TextField(blank=True, help_text="Class teacher's comment"),
                ),
                (
                    "headmaster_comment",
                    models.TextField(
                        blank=True, help_text="Headmaster/Headmistress comment"
                    ),
                ),
                (
                    "next_term_begins_on",
                    models.DateField(
                        blank=True, help_text="Date next term begins", null=True
                    ),
                ),
                (
                    "next_term_fees",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="School fees for next term",
                        max_digits=10,
                        null=True,
                    ),
                ),
                (
                    "is_published",
                    models.BooleanField(
                        default=False,
                        help_text="Is result published to student/parent?",
                    ),
                ),
                (
                    "is_promoted",
                    models.BooleanField(
                        default=False, help_text="Is student promoted to next class?"
                    ),
                ),
                (
                    "class_teacher_signature_date",
                    models.DateField(blank=True, null=True),
                ),
                ("headmaster_signature_date", models.DateField(blank=True, null=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "class_level",
                    models.ForeignKey(
                        blank=True,
                        help_text="Class level of the student",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_results",
                        to="academic.classlevel",
                    ),
                ),
                (
                    "class_teacher",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="results_as_class_teacher",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="created_results",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "headmaster",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="results_as_headmaster",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "session",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_results",
                        to="academic.academicsession",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        help_text="Student record",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="results",
                        to="students.student",
                    ),
                ),
                (
                    "term",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_results",
                        to="academic.academicterm",
                    ),
                ),
            ],
            options={
                "verbose_name": "Student Result",
                "verbose_name_plural": "Student Results",
                "ordering": [
                    "-session__start_date",
                    "-term__term",
                    "class_level",
                    "student",
                ],
            },
        ),
        migrations.CreateModel(
            name="PsychomotorSkills",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "handwriting",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                        help_text="Handwriting quality",
                    ),
                ),
                (
                    "verbal_fluency",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                        help_text="Verbal fluency and communication",
                    ),
                ),
                (
                    "drawing_and_painting",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                        help_text="Drawing and painting skills",
                    ),
                ),
                (
                    "tools_handling",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                        help_text="Handling of tools and equipment",
                    ),
                ),
                (
                    "sports",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                        help_text="Sports and physical activities",
                    ),
                ),
                (
                    "musical_skills",
                    models.IntegerField(
                        blank=True,
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        help_text="Musical skills and performance",
                        null=True,
                    ),
                ),
                (
                    "dancing",
                    models.IntegerField(
                        blank=True,
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        help_text="Dancing and rhythmic movement",
                        null=True,
                    ),
                ),
                (
                    "craft_work",
                    models.IntegerField(
                        blank=True,
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        help_text="Craft and handiwork",
                        null=True,
                    ),
                ),
                (
                    "overall_psychomotor_rating",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Average psychomotor rating",
                        max_digits=4,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "result",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="psychomotor_skills",
                        to="results.studentresult",
                    ),
                ),
            ],
            options={
                "verbose_name": "Psychomotor Skills",
                "verbose_name_plural": "Psychomotor Skills",
            },
        ),
        migrations.CreateModel(
            name="AffectiveDomains",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "punctuality",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "neatness",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "politeness",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "honesty",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "cooperation_with_others",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "leadership",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "altruism",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "emotional_stability",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "health",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "attitude",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "attentiveness",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "perseverance",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "communication_skill",
                    models.IntegerField(
                        choices=[
                            (5, "5 - Excellent"),
                            (4, "4 - Good"),
                            (3, "3 - Fair"),
                            (2, "2 - Poor"),
                            (1, "1 - Very Poor"),
                        ],
                        default=3,
                    ),
                ),
                (
                    "overall_affective_rating",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Average affective rating",
                        max_digits=4,
                    ),
                ),
                (
                    "behavioral_comment",
                    models.TextField(
                        blank=True, help_text="General comment on student's behavior"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "result",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="affective_domains",
                        to="results.studentresult",
                    ),
                ),
            ],
            options={
                "verbose_name": "Affective Domain",
                "verbose_name_plural": "Affective Domains",
            },
        ),
        migrations.CreateModel(
            name="SubjectScore",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "ca_obtainable",
                    models.IntegerField(
                        default=40, help_text="CA marks obtainable (usually 40)"
                    ),
                ),
                (
                    "exam_obtainable",
                    models.IntegerField(
                        default=60, help_text="Exam marks obtainable (usually 60)"
                    ),
                ),
                (
                    "total_obtainable",
                    models.IntegerField(
                        default=100, help_text="Total marks obtainable"
                    ),
                ),
                (
                    "ca_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="CA Score (out of 40)",
                        max_digits=5,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(40),
                        ],
                    ),
                ),
                (
                    "exam_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Exam Score (out of 60)",
                        max_digits=5,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(60),
                        ],
                    ),
                ),
                (
                    "total_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total Score (CA + Exam) out of 100",
                        max_digits=5,
                    ),
                ),
                (
                    "first_term_score",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="First term total score",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "second_term_score",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Second term total score",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "third_term_score",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Third term total score",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "aggregated_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Sum of all term scores",
                        max_digits=6,
                    ),
                ),
                (
                    "average_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Average of all terms",
                        max_digits=5,
                    ),
                ),
                (
                    "grade",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("A", "A - Excellent (80-100)"),
                            ("B", "B - Good (60-79)"),
                            ("C", "C - Average (50-59)"),
                            ("D", "D - Below Average (40-49)"),
                            ("E", "E - Poor (Below 40)"),
                        ],
                        help_text="Subject grade",
                        max_length=2,
                    ),
                ),
                (
                    "observation_conduct",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("A", "A"),
                            ("B", "B"),
                            ("C", "C"),
                            ("D", "D"),
                            ("E", "E"),
                        ],
                        help_text="Teacher's observation on student conduct in this subject",
                        max_length=2,
                    ),
                ),
                (
                    "subject_remark",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("honesty", "Honesty"),
                            ("punctuality", "Punctuality"),
                            ("attentiveness", "Attentiveness"),
                            ("politeness", "Politeness"),
                            ("neatness", "Neatness"),
                        ],
                        help_text="Remark on student's attitude in this subject",
                        max_length=20,
                    ),
                ),
                (
                    "position_in_subject",
                    models.IntegerField(
                        blank=True,
                        help_text="Student's position in this specific subject",
                        null=True,
                    ),
                ),
                (
                    "teacher_comment",
                    models.TextField(
                        blank=True,
                        help_text="Teacher's comment on performance in this subject",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "result",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="subject_scores",
                        to="results.studentresult",
                    ),
                ),
                (
                    "subject",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="subject_scores",
                        to="academic.subject",
                    ),
                ),
            ],
            options={
                "verbose_name": "Subject Score",
                "verbose_name_plural": "Subject Scores",
                "ordering": ["subject__name"],
            },
        ),
        migrations.CreateModel(
            name="ResultPublishing",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "is_published",
                    models.BooleanField(
                        default=False,
                        help_text="Are results published to students/parents?",
                    ),
                ),
                (
                    "published_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time results were published",
                        null=True,
                    ),
                ),
                (
                    "remarks",
                    models.TextField(
                        blank=True,
                        help_text="Publishing remarks or special instructions",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "class_level",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="published_results",
                        to="academic.classlevel",
                    ),
                ),
                (
                    "published_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who published the results",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "session",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="result_publishing",
                        to="academic.academicsession",
                    ),
                ),
                (
                    "term",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="result_publishing",
                        to="academic.academicterm",
                    ),
                ),
            ],
            options={
                "verbose_name": "Result Publishing",
                "verbose_name_plural": "Result Publishing",
                "indexes": [
                    models.Index(
                        fields=["session", "term", "class_level"],
                        name="results_res_session_622199_idx",
                    ),
                    models.Index(
                        fields=["is_published"], name="results_res_is_publ_503a04_idx"
                    ),
                ],
                "unique_together": {("session", "term", "class_level")},
            },
        ),
        migrations.AddIndex(
            model_name="studentresult",
            index=models.Index(
                fields=["student", "session", "term"],
                name="results_stu_student_372c10_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="studentresult",
            index=models.Index(
                fields=["class_level", "session", "term"],
                name="results_stu_class_l_4c6d47_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="studentresult",
            index=models.Index(
                fields=["is_published"], name="results_stu_is_publ_13a289_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="studentresult",
            unique_together={("student", "session", "term")},
        ),
        migrations.AddIndex(
            model_name="subjectscore",
            index=models.Index(
                fields=["result", "subject"], name="results_sub_result__bd7554_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="subjectscore",
            unique_together={("result", "subject")},
        ),
    ]
